<template name="wtNewInteraction">
  {{> loading}}
  {{gotoIdPage}}
</template>

<template name="wtInteraction">
  {{> UI.dynamic template=templateName}}
</template>

<template name="wtInteractionPageWithTabs">
  <div class="interaction-name"><h4>{{name}} @ {{phone}}</h4></div><div class="interaction-title"><h4>{{title}}</h4></div>
  <div role="tabpanel" class="interaction-menu">
    <ul class="nav nav-tabs nav-justified" id="wt_interaction_tabs" role="tablist">
      {{#each pages}}
        {{> wtInteractionPageTab}}
      {{/each}}
    </ul>

    <div class="tab-content interaction-content">
      {{#each pages}}
        {{> wtInteractionPageContent}}
      {{/each}}
    </div>
  </div>
</template>

<template name="wtInteractionPageTab">
    <li role="presentation"><a href="#{{pageId}}" aria-controls="{{pageId}}" role="tab" data-toggle="pill">{{name}}</a></li>
</template>

<template name="wtInteractionPageContent">
  <div role="tabpanel" class="tab-pane" id="{{pageId}}">
    {{#if showCustomerConversion}}
      {{#if customerId}}
        {{> wtCustomerEditForm id=customerId}}
      {{/if}}
      {{#unless customerId}}
        <button type="button" class="btn btn-primary" id="convert">Convert to Customer</button>
      {{/unless}}
    {{/if}}
    {{> quickForm collection="WtInteraction" doc=../.. schema=schema id=formId autosave=true buttonContent=false type="update"}}
  </div>
</template>

